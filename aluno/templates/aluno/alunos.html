{% extends 'base.html' %}

{% block center %}
  <h2>Lista de Alunos</h2>

  <a href="{% url 'aluno_criar' %}" class="btn btn-success mb-3">Novo Cadastro</a>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Foto</th>
        <th>Nome</th>
        <th>Email</th>
        <th>Cidade</th>
        <th>Curso</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for aluno in alunos %}
      <tr>
        <td>
          {% if aluno.foto %}
            <img src="{{ aluno.foto.url }}" alt="Foto do {{ aluno.nome_aluno }}"
                 width="50" height="50" style="border-radius: 50%; object-fit: cover;">
          {% else %}
            <div style="width: 50px; height: 50px; background-color: #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
              <span style="font-size: 12px;">Sem foto</span>
            </div>
          {% endif %}
        </td>
        <td>{{ aluno.nome_aluno }}</td>
        <td>{{ aluno.email }}</td>
        <td>{{ aluno.cidade.nome }}</td>
        <td>{{ aluno.curso.nome }}</td>
        <td>
          <a href="{% url 'aluno_editar' id=aluno.id %}" class="btn btn-primary btn-sm">Editar</a>
          <a href="{% url 'aluno_remover' id=aluno.id %}" class="btn btn-danger btn-sm">Remover</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
